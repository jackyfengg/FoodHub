
var ProfilePictures = [ 'https://randomuser.me/api/portraits/women/1.jpg','https://randomuser.me/api/portraits/women/2.jpg','https://randomuser.me/api/portraits/women/3.jpg','https://randomuser.me/api/portraits/women/4.jpg','https://randomuser.me/api/portraits/women/5.jpg',
                        'https://randomuser.me/api/portraits/women/6.jpg','https://randomuser.me/api/portraits/men/1.jpg','https://randomuser.me/api/portraits/men/2.jpg','https://randomuser.me/api/portraits/men/3.jpg','https://randomuser.me/api/portraits/men/4.jpg',
                        'https://randomuser.me/api/portraits/men/5.jpg','https://randomuser.me/api/portraits/men/6.jpg','https://randomuser.me/api/portraits/women/7.jpg','https://randomuser.me/api/portraits/women/8.jpg','https://randomuser.me/api/portraits/women/9.jpg',
                        'https://randomuser.me/api/portraits/women/10.jpg','https://randomuser.me/api/portraits/women/11.jpg','https://randomuser.me/api/portraits/women/12.jpg','https://randomuser.me/api/portraits/men/7.jpg','https://randomuser.me/api/portraits/men/8.jpg',
                        'https://randomuser.me/api/portraits/men/9.jpg','https://randomuser.me/api/portraits/men/10.jpg','https://randomuser.me/api/portraits/men/11.jpg','https://randomuser.me/api/portraits/men/12.jpg','https://randomuser.me/api/portraits/women/13.jpg',
                        'https://randomuser.me/api/portraits/women/14.jpg','https://randomuser.me/api/portraits/women/15.jpg','https://randomuser.me/api/portraits/women/16.jpg','https://randomuser.me/api/portraits/women/17.jpg','https://randomuser.me/api/portraits/women/18.jpg',
                        'https://randomuser.me/api/portraits/men/13.jpg','https://randomuser.me/api/portraits/men/14.jpg','https://randomuser.me/api/portraits/men/15.jpg','https://randomuser.me/api/portraits/men/16.jpg','https://randomuser.me/api/portraits/men/17.jpg',
                        'https://randomuser.me/api/portraits/men/18.jpg','https://randomuser.me/api/portraits/women/19.jpg','https://randomuser.me/api/portraits/women/20.jpg','https://randomuser.me/api/portraits/women/21.jpg','https://randomuser.me/api/portraits/women/22.jpg',
                        'https://randomuser.me/api/portraits/women/23.jpg','https://randomuser.me/api/portraits/women/24.jpg','https://randomuser.me/api/portraits/men/19.jpg','https://randomuser.me/api/portraits/men/20.jpg','https://randomuser.me/api/portraits/men/21.jpg',
                        'https://randomuser.me/api/portraits/men/22.jpg','https://randomuser.me/api/portraits/men/23.jpg','https://randomuser.me/api/portraits/men/24.jpg', 'https://randomuser.me/api/portraits/women/25.jpg',
                        'https://randomuser.me/api/portraits/women/26.jpg','https://randomuser.me/api/portraits/women/27.jpg','https://randomuser.me/api/portraits/women/28.jpg','https://randomuser.me/api/portraits/women/29.jpg',
                        'https://randomuser.me/api/portraits/women/30.jpg','https://randomuser.me/api/portraits/men/25.jpg','https://randomuser.me/api/portraits/men/26.jpg','https://randomuser.me/api/portraits/men/27.jpg',
                        'https://randomuser.me/api/portraits/men/28.jpg','https://randomuser.me/api/portraits/men/29.jpg','https://randomuser.me/api/portraits/men/30.jpg','https://randomuser.me/api/portraits/women/31.jpg',
                        'https://randomuser.me/api/portraits/women/32.jpg','https://randomuser.me/api/portraits/women/33.jpg','https://randomuser.me/api/portraits/women/34.jpg','https://randomuser.me/api/portraits/women/35.jpg',
                        'https://randomuser.me/api/portraits/women/36.jpg','https://randomuser.me/api/portraits/men/31.jpg', 'https://randomuser.me/api/portraits/men/32.jpg', 'https://randomuser.me/api/portraits/men/33.jpg',
                        'https://randomuser.me/api/portraits/men/34.jpg','https://randomuser.me/api/portraits/men/35.jpg','https://randomuser.me/api/portraits/men/36.jpg','https://randomuser.me/api/portraits/women/37.jpg',
                        'https://randomuser.me/api/portraits/women/38.jpg','https://randomuser.me/api/portraits/women/39.jpg','https://randomuser.me/api/portraits/women/40.jpg','https://randomuser.me/api/portraits/women/41.jpg',
                        'https://randomuser.me/api/portraits/women/42.jpg','https://randomuser.me/api/portraits/men/37.jpg','https://randomuser.me/api/portraits/men/38.jpg','https://randomuser.me/api/portraits/men/39.jpg',
                        'https://randomuser.me/api/portraits/men/40.jpg','https://randomuser.me/api/portraits/men/41.jpg','https://randomuser.me/api/portraits/men/42.jpg','https://randomuser.me/api/portraits/women/43.jpg',
                        'https://randomuser.me/api/portraits/women/44.jpg','https://randomuser.me/api/portraits/women/45.jpg','https://randomuser.me/api/portraits/women/46.jpg','https://randomuser.me/api/portraits/women/47.jpg',
                        'https://randomuser.me/api/portraits/women/48.jpg','https://randomuser.me/api/portraits/men/43.jpg','https://randomuser.me/api/portraits/men/44.jpg','https://randomuser.me/api/portraits/men/45.jpg',
                        'https://randomuser.me/api/portraits/men/46.jpg','https://randomuser.me/api/portraits/women/49.jpg','https://randomuser.me/api/portraits/women/50.jpg','https://randomuser.me/api/portraits/women/51.jpg'];

var FoodPictures = ['https://images.unsplash.com/photo-1565299507177-b0ac66763828?q=80&w=1022&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', 'https://images.unsplash.com/photo-1432139509613-5c4255815697?q=80&w=985&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', 'https://images.unsplash.com/photo-1501959915551-4e8d30928317?q=80&w=987&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', 'https://images.unsplash.com/photo-1481070555726-e2fe8357725c?q=80&w=1035&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', 'https://images.unsplash.com/photo-1455619452474-d2be8b1e70cd?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
'https://images.unsplash.com/photo-1481931098730-318b6f776db0?q=80&w=990&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D','https://images.unsplash.com/photo-1484980972926-edee96e0960d?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
'https://images.unsplash.com/photo-1546069901-ba9599a7e63c?q=80&w=1160&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', 'https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?q=80&w=960&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D','https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?q=80&w=987&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
'https://images.unsplash.com/photo-1565958011703-44f9829ba187?q=80&w=1065&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', 'https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?q=80&w=962&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', 'https://images.unsplash.com/photo-1529042410759-befb1204b468?q=80&w=986&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
'https://images.unsplash.com/photo-1482049016688-2d3e1b311543?q=80&w=1010&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', 'https://images.unsplash.com/photo-1484723091739-30a097e8f929?q=80&w=1049&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D', 'https://images.unsplash.com/photo-1497034825429-c343d7c6a68f?q=80&w=987&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'];

var UserList = [];
var Recipes = [];
var shuffleswitch = 1;

// shuffle function to shuffle arrays
function shuffleArray(array) {
    if (shuffleswitch == 0) {
        return array;
    }
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    shuffleswitch--;
    return array;
}

// fetch users
async function fetchusers() {
var response = await fetch('/../../backend/src/queries/userdetails.php')
    
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        UserList = await response.json(); 

        shuffleArray(UserList);

        document.getElementById('chefname1').innerHTML = UserList[0].username;
        document.getElementById('chefname2').innerHTML = UserList[1].username;
        document.getElementById('chefname3').innerHTML = UserList[2].username;
        document.getElementById('chefname4').innerHTML = UserList[3].username;
        document.getElementById('chefname5').innerHTML = UserList[4].username;
        document.getElementById('chefname6').innerHTML = UserList[5].username;
        document.getElementById('chefname7').innerHTML = UserList[6].username;
        document.getElementById('chefname8').innerHTML = UserList[7].username;
        document.getElementById('chefname9').innerHTML = UserList[8].username;
        return UserList;
}

// fetch recipe details
fetch('/../../backend/src/queries/recipedetails.php')
.then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.json(); // Parse the JSON response
    })
    .then(data => {
        Recipes = data; 
        shuffleArray(Recipes);
        document.getElementById('recipename1').innerHTML = Recipes[0].title;
        document.getElementById('recipename2').innerHTML = Recipes[1].title;
        document.getElementById('recipename3').innerHTML = Recipes[2].title;
        document.getElementById('recipename4').innerHTML = Recipes[3].title;
        document.getElementById('recipename5').innerHTML = Recipes[4].title;
        document.getElementById('recipename6').innerHTML = Recipes[5].title;
        document.getElementById('recipename7').innerHTML = Recipes[6].title;
        document.getElementById('recipename8').innerHTML = Recipes[7].title;

        document.getElementById('recipedesc1').innerHTML = Recipes[0].description;
        document.getElementById('recipedesc2').innerHTML = Recipes[1].description;
        document.getElementById('recipedesc3').innerHTML = Recipes[2].description;
        document.getElementById('recipedesc4').innerHTML = Recipes[3].description;
        document.getElementById('recipedesc5').innerHTML = Recipes[4].description;
        document.getElementById('recipedesc6').innerHTML = Recipes[5].description;
        document.getElementById('recipedesc7').innerHTML = Recipes[6].description;
        document.getElementById('recipedesc8').innerHTML = Recipes[7].description;
    })
    .catch(error => {
        console.error('Error fetching data:', error);
    });
    
function profilediverter(num) {
    fetchusers().then(response => {
        localStorage.setItem("name", response[num].username);
        localStorage.setItem("numberoffollowers", response[num].numberoffollowers);
        localStorage.setItem("numberoffollowing", response[num].numberoffollowing);
        localStorage.setItem("restaurantaffiliation", response[num].restaurantaffiliation);
        localStorage.setItem("restaurantlocation", response[num].restaurantlocation);
        localStorage.setItem("certification", response[num].certification);
        window.location.href = "/frontend/Pages/professionalChefprofilePage.html";
    })

};

ProfilePictures = shuffleArray(ProfilePictures);

document.getElementById("leaderboard1").src = ProfilePictures[0];
document.getElementById("leaderboard2").src = ProfilePictures[1];
document.getElementById("leaderboard3").src = ProfilePictures[2];
document.getElementById("leaderboard4").src = ProfilePictures[3];
document.getElementById("leaderboard5").src = ProfilePictures[4];
document.getElementById("leaderboard6").src = ProfilePictures[5];
document.getElementById("leaderboard7").src = ProfilePictures[6];
document.getElementById("leaderboard8").src = ProfilePictures[7];
document.getElementById("leaderboard9").src = ProfilePictures[8];
document.getElementById("leaderboard10").src = ProfilePictures[9];
document.getElementById("leaderboard11").src = ProfilePictures[10];
document.getElementById("leaderboard12").src = ProfilePictures[11];
document.getElementById("leaderboard13").src = ProfilePictures[12];
document.getElementById("leaderboard14").src = ProfilePictures[13];
document.getElementById("leaderboard15").src = ProfilePictures[14];

FoodPictures = shuffleArray(FoodPictures);

document.getElementById("food1").src = FoodPictures[0];
document.getElementById("food2").src = FoodPictures[1];
document.getElementById("food3").src = FoodPictures[2];
document.getElementById("food4").src = FoodPictures[3];
document.getElementById("food5").src = FoodPictures[4];
document.getElementById("food6").src = FoodPictures[5];
document.getElementById("food7").src = FoodPictures[6];
document.getElementById("food8").src = FoodPictures[7];

ProfilePictures = shuffleArray(ProfilePictures);

document.getElementById("chef1").src = ProfilePictures[0];
document.getElementById("chef2").src = ProfilePictures[1];
document.getElementById("chef3").src = ProfilePictures[2];
document.getElementById("chef4").src = ProfilePictures[3];
document.getElementById("chef5").src = ProfilePictures[4];
document.getElementById("chef6").src = ProfilePictures[5];
document.getElementById("chef7").src = ProfilePictures[6];
document.getElementById("chef8").src = ProfilePictures[7];
document.getElementById("chef9").src = ProfilePictures[8];


fetchusers();

// make dynamic/random events
var eventdata = [];
var eventimages = ['https://www.withfire.co.uk/wp-content/uploads/2020/03/With-Fire-Incredible-Street-Food-Catering-Ideas-for-Your-Event.jpg', 'https://www.teambonding.com/wp-content/uploads/2020/10/Depositphotos_565421122_L-1.jpg'
,'https://mocandco.com/wp-content/uploads/2017/06/tray_of_food.jpg', 'https://www.reventals.com/blog/wp-content/uploads/2019/06/AdobeStock_186295600.jpeg'];
const events = document.getElementById('events');

    fetch('/../../backend/src/queries/events.php')

         .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json(); 
        })

        .then(data => {
            eventdata = data;
            shuffleArray(eventdata);

            for (let i = 0; i < 4; i++) {
                const event = eventdata[i];
                const eventimage = eventimages[i];
                const eventHtml = `<div class="card card-compact w-96 bg-neutral shadow-xl ml-4">
                        <figure><img src="${eventimage}" alt="Shoes" /></figure>
                        <div class="absolute top-40 left-0 bg-neutral p-4">
                            <h3 class="text-white text-xl font-semibold">${event.category}</h3>
                        </div>
                        <div class="card-body">
                            <div class="join">
                                <p>${event.date}</p>
                            </div>
                            <p>${event.location}</p>

                     <!-- not event discription -->

                            <div class="card-actions justify-end">
                                <a href="homeCookEventPage.html" class="btn btn-primary">Join</a>
                            </div>
                        </div>
                    </div>`;

            events.innerHTML += eventHtml;
            }
        })